struct Std::Scheduler::Covar
  private const waiting = Set<Size>()

  # Atomically unlock the *mutex* and start waiting for a signal.
  # Once the signal receival, locks the mutex again.
  def wait(mutex : Mutex*, timeout : Timespan~ = void)
    Scheduler.wait(&self, mutex, timeout)
  end

  def signal
    Scheduler.signal(&self)
  end

  def broadcast
    Scheduler.broadcast(&self)
  end
end
