struct Queue
  private mut jobs : Proc<(Void)>*
  getter size : UInt16
  getter offset : UInt16
  private mutex : Mutex

  # Attempt stealing half of the jobs *from* another queue.
  # Returns the amount of stealed jobs.
  fun steal(from : Queue*) : UInt16
    mutex.lock ->
      if size > 0

  end
end
